- https://click.palletsprojects.com/en/8.1.x/
- why click?
	- no cli for python which does
		- lazily composable w/o restrictions
		- follows Posix convetions
		- loading values from env vars
		- prompting for custom values
		- fully nestable and composable
		- file handling
		- includes common helpers
			- getting terminal dimensions
			- ansi colors
			- fetching direct keyboard input
			- screen clearing
			- finding configpaths
			- launching apps and editors
	- does not use [[optparse]] or [[argparse]]
		- bc [[argparse]]
			- does not allow nesting of commands
			- insufficient Posix compliance
	- designed to be fun and customizable
		- but not overly flexible
			- e.g. customizability of help pages is constrained
	- internally based on [[optparse]]
	- also
		- does not just parse, also dispatches to appropriate code
		- strong concept of an invocation context
			- allows subcommands to respond to data from parent command
- quickstart
	- based on declaring cmds through decorators (decs)
		- internally, non-decorator interface for advanced use cases
			- discouraged for high-level usage
	- click.echo
		- echo function supports colors and other styles
			- removed if output stream is a file
			- if you don't need this, use print
	- nesting
		- cmds can be attached to other cmds of type Group
- parameters
	- two types of parameters for scripts
		- options
			- optional
			- can prompt for missing input
			- act as flags
			- values can be pulled from env vars
			- fully documented in help page
			- can only accept fixed num of arguments
				- maybe specified multiple times with 'Multiple options'
		- arguments
			- can accept an arbitrary num of args
			- used for
				- subcommands
				- input filenames
	- parameter types
		- str
		- int
		- float
		- bool
		- click.UUID
		- File
			- special value `-` = stdin/stdout
				- depends on mode
			- lazy controls if should be opened immediately or on first IO
				- default is
					- non-lazy for
						- stdin/stdout
						- files opened for reading
					- lazy otherwise
				- lazy files for reading
					- file still opened temporarily for validation
						- but will not be held open
							- until first IO
			- atomicity=False
				- all writes go into a separate file in the same folder
				- upon completion the file will be moved over to the original location
				- useful if a file regularly read by other users is modified
	- Path
		- similar to File, but returns filename instead of open file
		- exists=False
			- file/dir needs to exist for value to be valid
		- file_okay=True
		- dir_okay=True
		- readable=True
			- require to be readable
		- writable=False
			- require to be writable
		- executable=False
			- require to be executable
		- resolve_path=False
			- make val absolute and resolve symlinks #woke-ideas
			- `~` is not expanded
				- only supposed to be done by shell
		- allow_dash=False
			- allow stdin/stdout
				- but does not open it
			- use `open_file()` to handle opening this value #woke-ideas
		- path_type=None
			- covert val to this type
				- otherwise default (`str`)
			- useful to convert to `pathlib.Path` #woke-ideas
	- Choice #woke-ideas
		- allows a val to be checked
		- list or tuple of strings
		- resulting value will be one of the originally passed choices
		- case_sensitive=True
	- IntRange/FloatRange
		- min=None
			- includes boundaries
		- max=None
			- includes boundaries
		- min_open=False
			- does not include boundaries
		- max_open=False
			- does not include boundaries
		- clamp=False
	- DateTime
		- formats=None
			- default is common (non-timezone-aware) ISO 8601 formats
				- `%Y-%m-%d`
				- `%Y-%m-%dT%H:%M:%S`
				- `%Y-%m-%d %H:%M:%S`
			- only pass list or tuple (of strings)
			- processed using `datetime.strptime`
		- converts date strings into [[datetime]] objects
			- parsing is tried using each format in order
				- first format which successfully parses is used
	- custom parameter types can be implemented by subclassing `click.ParamType` #woke-ideas
	- parameter names
		- args take one positional name
		- opts can have many names that may be prefixed with one or two dashes
			- names with one dash are parsed as short opts
			- names with two dashes are parsed as long opts
			- if a name is not prefixed, it is used as the Python arg name and not parsed as an option name
				- otherwise first name with a two dash prefix is used
					- or
				- first with one dash prefix
					- if there are none with two
				- prefix is removed and dashes are converted to underscores
					- to get Python arg name
		- implementing custom types
			- subclass click.ParamType
			- override `convert()` method
				- to convert val from string to correct type
				- values from user input or CLI will be strings
					- but default values and Python args may already be correct type
- opts
	- basic value opts
		- most basic opt
		- accept 1 arg which is a val
		- if no type is provided, type of default val is used
			- if no default val is provided, type is assumed to be click.String
		- by default options are not required
			- use require=True
		- show_default=False #woke-ideas
			- to show default vals in help
			- for single-option boolean flags, default remains hidden if default value is False
	- multi value opts
		- e.g.
			- `nargs=2`
			- `type=(str, int)`
				- nargs gets automatically set
				- type automatically set to `click.Tuple`
		- `multiple=False`
			- when passing a `default`, default val must be a list or tuple
		- `count=False` #woke-ideas
			- count an integer up
			- e.g. `-vvv`
	- boolean flags
		- define two flags in one go separated by a slash for enabling or disabling the option
			- can also split params with `;`
			- if a slash is in an option string, Click knows it's a boolean flag and will pass `is_flag=True` implicitly
			- if you want an alias for second option only, you'll need to use leading whitespace
				- `@click.option('--shout/--no-shout', ' /-S', default=False)`
			- should always provide enable and disable flag so you can change default later
				- or
			- you can just use `is_flag=True` #woke-ideas (for `--debug`)
			- dom: don't use, use choice instead
	- feature switches
		- set multiple opts to same param name and defining a flag value
			- click will implicitly set `is_flag=True`
			- e.g.
				- `@click.option('--upper', 'transformation', flag_value='upper', default=True)`
				- `@click.option('--lower', 'transformation', flag_value='lower')`
		- dom: don't use, use choice instead
	- choice options
		- e.g.
			- `@click.option('--hash-type', type=click.Choice(['MD5', 'SHA1'], case_sensitive=False))`
		- also works with `multiple=True`
	- prompts
		- e.g.
			- `@click.option('--name', prompt=True)`
				- or
			- `@click.option('--name', prompt='Your name please')`
		- advised that prompts _not_ be used in conjunction with `multiple=True`
			- instead, prompt in the function interactively
	- passwd prompts
		- e.g.
			- `@click.option('--password', prompt=True, hide_input=True, confirmation_prompt=True)`
				- can also be replaced with `password_option()` dec
	- dynamic defaults for prompts
		- `auto_envvar_prefix` and `default_map` opts for the context allow the program to read opt values from the env or a config file
			- however, this overrides the prompting mechanism
				- => user does not have option to change value interactively
					- if you want to let user configure default value but still be prompted if the opt isn't specified on the command line
						- you can do so by supplying a callable as the default value
	- callbacks and eager opts
		- eager param
			- handled before others
		- callback
			- executes after param is handled
			- invoked with 3 params
				- context
				- current parameter
				- value
		- eagerness required so an earlier required param does not produce an error message
		- e.g.
			- `@click.option('--version', is_flag=True, callback=print_version, expose_value=False, is_eager=True)`
				- w/o `expose_value`, boolean would be passed to `hello` script
				- `resilient_parsing` flag is appliedTo context if Click wants to parse the command line w/o any destructive behavior that would change the execution flow
	- yes params
		- e.g.
			- `@click.option('--yes', is_flag=True, callback=abort_if_false, expose_value=False, prompt='Are you sure?')`
				- shorthand: `confirmation_option()` dec
	- values from env
		- supported by Click in two ways
			- automatically build env vars
				- opts only
				- `auto_envvar_prefix` param needs to be passed to the script that is invoked
			- manually pull values from specific env vars